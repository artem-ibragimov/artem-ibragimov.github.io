"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("src/Editor"),t=require("src/Getter"),n=require("src/Scene"),c=require("src/File"),r=document.getElementById("output"),o=e=>{r.innerHTML=e.stack||e.message},i=document.getElementById("editor"),d=new e.Editor(i),s=document.getElementById("getterControl"),l=new t.Getter(s),a=document.getElementById("uploadControl");a.addEventListener("change",()=>{a.files[0].text().then(d.deserialize).catch(o)}),document.getElementById("saveControl").addEventListener("click",()=>{const e=`${d.info.patientName}.json`;c.download(d.serialize(),{name:e}).catch(o)}),l.subscribe("change",t=>{e.Editor.convert(t).then(d.draw).catch(o)});const u=document.getElementById("scene");document.getElementById("createControl").addEventListener("click",()=>{new n.Scene(u,d.getPoints(),d.info.pixelSpacing,d.info.sliceThickness)});
