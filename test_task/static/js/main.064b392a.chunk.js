(this.webpackJsonptest_task=this.webpackJsonptest_task||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n,r,c=a(6),i=a(0),o=a.n(i),s=a(10),l=a.n(s),u=a(34),d=a(23),b=a(183),j=a(178),h=a(157),O=a(182),f=a(15),p=a(72),v=a(160),g=a(76),y=a.n(g),x=a(77),m=a.n(x),k=a(78),S=a.n(k),w=a(79),C=a.n(w),R=Object(h.a)((function(e){return Object(O.a)({root:{"& > *":{margin:e.spacing(1)},position:"fixed",bottom:e.spacing(1),right:e.spacing(1)}})})),D=o.a.memo((function(e){var t=e.onAdd,a=e.onDelete,n=e.onSave,r=e.onUpdate,i=e.addDisabled,o=e.deleteDisabled,s=e.saveDisabled,l=e.updateDisabled,u=R();return Object(c.jsxs)("div",{className:u.root,children:[Object(c.jsx)(v.a,{color:"primary","aria-label":"add",onClick:t,disabled:i,children:Object(c.jsx)(y.a,{})}),Object(c.jsx)(v.a,{"aria-label":"edit",onClick:a,disabled:o,children:Object(c.jsx)(m.a,{})}),Object(c.jsx)(v.a,{"aria-label":"edit",onClick:n,disabled:s,children:Object(c.jsx)(S.a,{})}),Object(c.jsx)(v.a,{"aria-label":"edit",onClick:r,disabled:l,children:Object(c.jsx)(C.a,{})})]})})),E=a(26),A=a(27),I=a(39),T=a(12),L=(n=function(){function e(t,a,n){var r=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(E.a)(this,e),this.type=t,this.label=a,this.dataRange=c,this.isRequired=i,this._value=T.e.box(),this.change=Object(T.b)((function(e){r._value.set(e)})),this.change(n)}return Object(A.a)(e,[{key:"serialize",value:function(){return JSON.stringify({type:this.type,label:this.label,value:this.value,dataRange:this.dataRange,isRequired:this.isRequired})}},{key:"value",get:function(){return this._value.get()}}],[{key:"from",value:function(t){var a=JSON.parse(t),n=a.label,r=a.value,c=a.dataRange,i=a.isRequired;return new e(a.type,n,r,c,i)}}]),e}(),Object(I.a)(n.prototype,"value",[T.c],Object.getOwnPropertyDescriptor(n.prototype,"value"),n.prototype),n);!function(e){e[e.STR=0]="STR",e[e.DATE=1]="DATE",e[e.RADIO=2]="RADIO",e[e.BOOL=3]="BOOL",e[e.SELECT=4]="SELECT"}(r||(r={}));var N,P,z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_();Object(E.a)(this,e),this.id=a,this.attrs=void 0,this.attrs=t.reduce((function(e,t){return e[t.label]=t,e}),{})}return Object(A.a)(e,[{key:"serialize",value:function(){return JSON.stringify({id:this.id,attrs:Object.values(this.attrs).map((function(e){return e.serialize()}))})}},{key:"deserialize",value:function(t){try{var a=JSON.parse(t),n=a.id;return new e(a.attrs.map(L.from),n)}catch(r){console.error(r)}}}],[{key:"from",value:function(t){return(new e).deserialize(t)}},{key:"new",value:function(){return new e([new L(r.STR,"\u0424\u0418\u041e","\u0411\u0435\u0437 \u0438\u043c\u0435\u043d\u0438",[],true),new L(r.SELECT,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c","\u0411\u0435\u0437 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438",["\u0411\u0435\u0437 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438","\u0413\u0435\u043d\u0434\u0438\u0440","\u041d\u0435 \u0413\u0435\u043d\u0434\u0438\u0440"],true),new L(r.DATE,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",""),new L(r.RADIO,"\u041f\u043e\u043b","\u041c",["\u041c","\u0416"]),new L(r.BOOL,"\u0423\u0432\u043e\u043b\u0435\u043d",!1)])}}]),e}(),_=function(){return"".concat(Math.random())},B=a(167),J=a(162),q=a(166),F=a(164),G=a(165),K=a(163),M=o.a.memo((function(e){var t=e.title,a=e.body,n=e.isOpened,r=e.onOk,i=e.onCancel;return Object(c.jsx)("div",{children:Object(c.jsxs)(J.a,{open:n,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(c.jsx)(K.a,{id:"alert-dialog-title",children:t}),Object(c.jsx)(F.a,{children:Object(c.jsxs)(G.a,{children:[" ",a," "]})}),Object(c.jsxs)(q.a,{children:[Object(c.jsx)(B.a,{onClick:i,color:"primary",children:" cancel "}),Object(c.jsx)(B.a,{onClick:r,color:"primary",autoFocus:!0,children:" agree "})]})]})})})),Y=a(176),U=Object(Y.a)((function(e){var t=e.store,a=t.store,n=t.changesStored,r=0===t.getChecked().length,i=o.a.useState(!1),s=Object(u.a)(i,2),l=s[0],d=s[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(M,{isOpened:l,onOk:function(){d(!1),t.restore()},onCancel:function(){d(!1)},title:"Unsaved changes will be lost"}),Object(c.jsx)(D,Object(p.a)({},{onAdd:function(){t.add(z.new())},onDelete:function(){t.delete(t.getChecked())},onUpdate:function(){t.changesStored||d(!0)},onSave:a,saveDisabled:n,deleteDisabled:r}))]})})),V=a(169),W=a(180),H=a(177),Q=a(173),X=a(179),Z=a(184),$=a(168),ee=function(e){var t=e.attr,a=ie[t.type];return Object(c.jsx)(a,{attr:t},t.label)},te=Object(Y.a)((function(e){var t=e.attr;return Object(c.jsx)($.a,{label:t.label,control:Object(c.jsx)(V.a,{checked:t.value,onChange:function(){t.change(!t.value)},name:t.label},t.label)})})),ae=Object(Y.a)((function(e){var t=e.attr;return Object(c.jsx)(W.a,{onInput:function(e){var a=e.target;t.change(a.value)},label:t.label,defaultValue:t.value,required:t.isRequired},t.label)})),ne=Object(Y.a)((function(e){var t=e.attr;return Object(c.jsx)(W.a,{label:t.label,type:"date",onChange:function(e){var a=e.target;t.change(a.value)},required:t.isRequired,defaultValue:t.value,InputLabelProps:{shrink:!0}},t.label)})),re=Object(Y.a)((function(e){var t=e.attr;return Object(c.jsx)(H.a,{value:t.value,onChange:function(e){var a=e.target;t.change(a.value)},children:t.dataRange.map((function(e){return Object(c.jsx)(Q.a,{value:e,children:e})}))},t.label)})),ce=Object(Y.a)((function(e){var t=e.attr;return Object(c.jsx)(Z.a,{row:!0,value:t.value,onChange:function(e){var a=e.target;t.change(a.value)},children:t.dataRange.map((function(e){return Object(c.jsx)($.a,{value:e,label:e,control:Object(c.jsx)(X.a,{}),labelPlacement:"start"})}))},t.label)})),ie=(N={},Object(d.a)(N,r.BOOL,te),Object(d.a)(N,r.DATE,ne),Object(d.a)(N,r.STR,ae),Object(d.a)(N,r.SELECT,re),Object(d.a)(N,r.RADIO,ce),N),oe=Object(h.a)((function(e){return Object(O.a)({root:{"& > div":{marginTop:e.spacing(2)},width:"40ch",display:"flex",flexDirection:"column"}})})),se=Object(Y.a)((function(e){var t=e.store,a=oe();if(!t.choosen)return null;var n=Object.values(t.choosen.attrs);return Object(c.jsx)("form",{className:a.root,noValidate:!0,autoComplete:"off",children:n.map((function(e){return Object(c.jsx)(ee,{attr:e},e.label)}))})})),le=a(181),ue=a(172),de=a(110),be=a(174),je=a(175),he=Object(h.a)((function(e){return Object(O.a)({root:{flexBasis:"40%",maxWidth:360,backgroundColor:e.palette.background.paper}})})),Oe=Object(Y.a)((function(e){var t,a=e.store,n=a.getList(),r=he(),i=null===(t=a.choosen)||void 0===t?void 0:t.id;return Object(c.jsx)(ue.a,{className:r.root,children:n.map((function(e){var t=e.label,n=e.id,r=e.checked;return Object(c.jsxs)(de.a,{dense:!0,selected:n===i,button:!0,onClick:function(){a.choose(n)},children:[Object(c.jsx)(be.a,{children:Object(c.jsx)(le.a,{onChange:function(){a.check(n,!r)},edge:"start",checked:r,tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})}),Object(c.jsx)(je.a,{id:n,primary:t})]},n)}))})})),fe=a(81),pe=a(80),ve=function(){function e(){Object(E.a)(this,e)}return Object(A.a)(e,[{key:"store",value:function(e,t){localStorage&&localStorage.setItem(e,t.serialize())}},{key:"restore",value:function(e,t){var a=this.getStored(e);a&&t.deserialize(a)}},{key:"isActual",value:function(e,t){return this.getStored(e)===t.serialize()}},{key:"getStored",value:function(e){return localStorage&&localStorage.getItem(e)}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e)}}]),e}();ve.instance=void 0;var ge,ye,xe,me=(xe=ye=function(e){Object(fe.a)(a,e);var t=Object(pe.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).STORAGE_KEY="EmployeesStore",e.checked=T.e.set(new Set),e.choosenID=T.e.box(""),e.check=Object(T.b)((function(t,a){a?e.checked.add(t):e.checked.delete(t)})),e.choose=Object(T.b)((function(t){e.choosenID.set(t)})),e.deserialize=Object(T.b)((function(t){try{var a=JSON.parse(t).map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return[a,z.from(n)]}));e.data.replace(a)}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438",n)}})),e}return Object(A.a)(a,[{key:"getChecked",value:function(){return Array.from(this.checked.values())}},{key:"getList",value:function(){var e=this;return Array.from(this.data.values()).map((function(t){var a=t.id;return{label:t.attrs["\u0424\u0418\u041e"].value,checked:e.checked.has(a),id:a}}))}},{key:"choosen",get:function(){var e=this.data.get(this.choosenID.get());if(e)return Object(T.f)(e)}}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new a)}}]),a}((P=function(){function e(){var t=this;Object(E.a)(this,e),this.data=T.e.map(new Map),this.STORAGE_KEY="BaseStore",this.add=Object(T.b)((function(e){t.data.set(e.id,e)})),this.delete=Object(T.b)((function(e){e.forEach((function(e){t.data.delete(e)}))})),this.deserialize=Object(T.b)((function(e){try{var a=JSON.parse(e);t.data.replace(a)}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438",n)}})),this.store=this.store.bind(this),this.restore=this.restore.bind(this)}return Object(A.a)(e,[{key:"getAll",value:function(){return Array.from(this.data.entries())}},{key:"serialize",value:function(){var e=Array.from(this.data.entries()).map((function(e){var t=Object(u.a)(e,2);return[t[0],t[1].serialize()]}));return JSON.stringify(e)}},{key:"store",value:function(){ve.getInstance().store(this.STORAGE_KEY,this)}},{key:"restore",value:function(){ve.getInstance().restore(this.STORAGE_KEY,this)}},{key:"changesStored",get:function(){return ve.getInstance().isActual(this.STORAGE_KEY,this)}}]),e}(),Object(I.a)(P.prototype,"changesStored",[T.c],Object.getOwnPropertyDescriptor(P.prototype,"changesStored"),P.prototype),P)),ye.instance=void 0,ge=xe,Object(I.a)(ge.prototype,"getChecked",[T.c],Object.getOwnPropertyDescriptor(ge.prototype,"getChecked"),ge.prototype),Object(I.a)(ge.prototype,"choosen",[T.c],Object.getOwnPropertyDescriptor(ge.prototype,"choosen"),ge.prototype),ge),ke=Object(h.a)((function(e){return Object(O.a)({root:{display:"flex"},drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:400,flexShrink:0}),menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),drawerPaper:{width:400},content:{flexGrow:1,padding:e.spacing(3)}})}));function Se(e){var t=e.window,a=ke(),n=Object(f.a)(),r=o.a.useState(!1),s=Object(u.a)(r,2),l=s[0],d=s[1],h=void 0!==t?function(){return t().document.body}:void 0,O=me.getInstance();return Object(i.useEffect)((function(){O.restore()}),[]),Object(c.jsxs)("div",{className:a.root,children:[Object(c.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(c.jsx)(j.a,{smUp:!0,implementation:"css",children:Object(c.jsx)(b.a,{container:h,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:l,onClose:function(){d(!l)},classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:Object(c.jsx)(Oe,{store:O})})}),Object(c.jsx)(j.a,{xsDown:!0,implementation:"css",children:Object(c.jsx)(b.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0,children:Object(c.jsx)(Oe,{store:O})})})]}),Object(c.jsx)("main",{className:a.content,children:Object(c.jsx)(se,{store:O})}),Object(c.jsx)(U,{store:O})]})}var we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,186)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};l.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(Se,{})}),document.getElementById("root")),we()}},[[106,1,2]]]);
//# sourceMappingURL=main.064b392a.chunk.js.map